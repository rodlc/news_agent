<div class="container mt-4" data-controller="message-form">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <div class="card shadow">
        <div class="card-header bg-primary text-white">
          <h3 class="mb-0"><%= @chat.name %></h3>
        </div>

        <div
          class="card-body bg-light"
          style="height: 60vh; overflow-y: scroll;"
          id="messages-container"
          data-controller="scroll"
        >
          <div id="messages" data-message-form-target="messagesContainer">
            <% if @chat.messages.any? %>
              <%= render @chat.messages %>
            <% else %>
              <div class="text-center text-muted mt-5">
                <p>ğŸ’¬ Aucun message pour l'instant</p>
              </div>
            <% end %>
          </div>
        </div>

        <div class="card-footer bg-white">
          <%= turbo_frame_tag "message_form" do %>
            <%= render "messages/form", chat: @chat, message: @message %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
